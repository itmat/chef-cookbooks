###
# Generated by Chef for <%= @node[:fqdn] %>
###

###
# RUNIT options are fixed for these. If not using runit, you will need to modify
###
daemonize no
logfile stdout

###
# All other options set by Chef attributes.
###

port <%= @node[:redis][:port] %>
bind <%= @node[:redis][:address] %>
timeout <%= @node[:redis][:client_timeout] %>
<% @node[:redis][:saves].each do |save| %>
  save <%= "#{save.shift} #{save.shift}" %>
<% end %>
dir <%= @node[:redis][:dbdir] %>
dbfilename <%= @node[:redis][:dbfile] %>
loglevel <%= @node[:redis][:loglevel] %>
databases <%= @node[:redis][:num_databases ] %>
<%- if @node[:redis][:slave] == "yes" %>
slaveof <%= @node[:redis][:master_server] %> <%= @node[:redis][:master_port] %>
<%- end %>
<%- if  @node[:redis][:password]  %>
requirepass <%= @node[:redis][:password] %>
<%- end %>
<%- if  @node[:redis][:maxclients]  %>
maxclients<%= @node[:redis][:maxclients] %>
<%- end %>
<%- if  @node[:redis][:maxmemory]  %>
maxmemory <%= @node[:redis][:maxmemory] %>
<%- end %>
glueoutputbuf <%= @node[:redis][:glueoutputbuf] %>
shareobjects <%= @node[:redis][:shareobjects] %>
<% if @node[:redis][:shareobjects] == "yes" %>
shareobjectspoolsize <%= @node[:redis][:shareobjectspoolsize] %>
<% end %>
